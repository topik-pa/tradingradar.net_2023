"use strict";(self.webpackChunktradingradar_net=self.webpackChunktradingradar_net||[]).push([[96],{399:(e,s,a)=>{a.d(s,{Z:()=>r});const r=async function(e="",s={},a="GET",r={}){const t={},o={method:a,mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",...r},redirect:"follow",referrerPolicy:"no-referrer"};return["post","put","patch","delete"].includes(a.toLowerCase())&&(o.body=JSON.stringify(s)),await fetch(e,o).then((e=>(t.status=e.status,e.json()))).then((e=>{t.body=e})).catch((e=>{console.error(e)})),t}},96:(e,s,a)=>{a.r(s),a.d(s,{analisi:()=>b});var r=a(399);const t={info:{status:"idle",body:void 0},analysis:{status:"idle",body:void 0},news:{status:"idle",body:void 0}},o=["idle","loading","success","error"];let n,l;async function i(e){t[e].status="loading",c(e);try{const s=await(0,r.Z)(`/api/${e}/${l}`);t[e].body=s.body,t[e].status="success"}catch(s){t[e].status="error",console.error(s)}c(e)}function c(e){const s=n.getElementsByClassName(e)[0];s.classList.remove(...o),s.classList.add(t[e].status)}const y=async()=>{if(l=new URLSearchParams(window.location.search).get("isin")||window.location.pathname.replace("/stock/",""),n=document.getElementById("stock_info"),l&&(await i("info"),"success"===t.info.status&&function(){n.querySelector(".last-price span").innerText=t.info.body.lastPrice.value||"nd",n.querySelector(".volatility span").innerText=t.info.body.volatility?.value;const e=n.querySelector(".profile div");e.prepend(t.info.body.profile?.value),e.querySelector("a").href=t.info.body.profile?.source;const s=n.querySelector(".comment div");s.prepend(t.info.body.comment?.value),s.querySelector("a").href=t.info.body.comment?.source;const a=n.querySelector(".dividends");a.querySelector(".divYield span").prepend(t.info.body.divYield?.value),a.querySelector(".divValue span").prepend(t.info.body.lastDiv?.value),a.querySelector(".lastDiv span").prepend(t.info.body.lastDivDate?.value),a.querySelector("a").href=t.info.body.lastDivDate?.source;const r=n.querySelector(".average");r.querySelector(".mm20 span").prepend(t.info.body.mm20days?.value),r.querySelector(".mm40 span").prepend(t.info.body.mm40days?.value),r.querySelector(".mm100 span").prepend(t.info.body.mm100days?.value),r.querySelector("a").href=t.info.body.mm20days?.source;const o=n.querySelector(".minmax");o.querySelector(".absMax span").prepend(t.info.body.absMax?.value),o.querySelector(".absMin span").prepend(t.info.body.absMin?.value),o.querySelector(".max span").prepend(t.info.body.currentYearMax?.value),o.querySelector(".min span").prepend(t.info.body.currentYearMin?.value),o.querySelector("a").href=t.info.body.absMax?.source;const l=n.querySelector(".performance");l.querySelector(".perf1M span").prepend(t.info.body.perf1M?.value),l.querySelector(".perf6M span").prepend(t.info.body.perf6M?.value),l.querySelector(".perf1Y span").prepend(t.info.body.perf1Y?.value),l.querySelector("a").href=t.info.body.perf1M?.source}(),await i("analysis"),"success"===t.analysis.status&&function(){const e=n.querySelector(".analysis"),s=e.querySelector(".borsa-italiana");s.querySelector("a").href=t.analysis.body.borsaIt_resistance?.source,s.querySelector("p a").href=t.analysis.body.borsaIt_resistance?.source,s.querySelector(".resistance span").innerText=t.analysis.body.borsaIt_resistance?.value,s.querySelector(".support span").innerText=t.analysis.body.borsaIt_support?.value,s.querySelector(".rsi span").innerText=t.analysis.body.borsaIt_rsi?.value,s.querySelector(".evaluation span").innerText=t.analysis.body.borsaIt_evaluation?.value,s.querySelector(".rating span").innerText=t.analysis.body.borsaIt_rating?.value;const a=e.querySelector(".il-sole-24-ore");a.querySelector("a").href=t.analysis.body.sol24_shortTendency?.source,a.querySelector("p a").href=t.analysis.body.sol24_shortTendency?.source,a.querySelector(".short-tend span").innerText=t.analysis.body.sol24_shortTendency?.value,a.querySelector(".med-tend span").innerText=t.analysis.body.sol24_mediumTendency?.value;const r=e.querySelector(".milano-finanza");r.querySelector("a").href=t.analysis.body.milFin_mfRanking?.source,r.querySelector("p a").href=t.analysis.body.milFin_mfRanking?.source,r.querySelector(".rating span").innerText=t.analysis.body.milFin_mfRanking?.value,r.querySelector(".risk span").innerText=t.analysis.body.milFin_mfRisk?.value;const o=e.querySelector(".soldi-on-line");o.querySelector("a").href=t.analysis.body.sol_lastJudgment?.source,o.querySelector("p a").href=t.analysis.body.sol_lastJudgment?.source,o.querySelector(".date span").innerText=t.analysis.body.sol_lastJudgment?.value[0],o.querySelector(".bank span").innerText=t.analysis.body.sol_lastJudgment?.value[1],o.querySelector(".evaluation span").innerText=t.analysis.body.sol_lastJudgment?.value[2],o.querySelector(".target span").innerText=t.analysis.body.sol_lastJudgment?.value[3];const l=e.querySelector(".teleborsa");l.querySelector("a").href=t.analysis.body.teleb_tbResistance?.source,l.querySelector("p a").href=t.analysis.body.teleb_tbResistance?.source,l.querySelector(".resistance span").innerText=t.analysis.body.teleb_tbResistance?.value,l.querySelector(".support span").innerText=t.analysis.body.teleb_tbSupport?.value,l.querySelector(".trend span").innerText=t.analysis.body.teleb_trend?.value}(),await i("news"),"success"===t.news.status&&function(){const e=n.querySelector(".news").getElementsByTagName("ul")[0];for(const s of t.news.body){const a=document.createElement("li"),r=document.createElement("a");r.innerText=s.title,r.title=s.title,r.href=s.url,r.target="_blank",r.rel="noopener noreferrer",a.appendChild(r),e.appendChild(a)}}(),"success"===t.info.status&&"success"===t.analysis.status))return t};let u;const d={init:async e=>{u=document.getElementById("stock_alerts"),function(e){const s=u.querySelector("#a1"),a=u.querySelector("#a2"),r=u.querySelector("#a3"),t=u.querySelector("#a4"),o=u.querySelector("#a5"),n=u.querySelector("#a6"),l=u.querySelector("#a7"),i=u.querySelector("#a8"),c=u.querySelector("#last-price"),y=e.info.body.lastPrice.value;y&&(c.innerText=y,y>=e.info.body.mm20days.value?s.classList.remove("hide"):a.classList.remove("hide"),y>=e.info.body.mm40days.value?r.classList.remove("hide"):t.classList.remove("hide"),y>=e.analysis.body.borsaIt_resistance.value&&o.classList.remove("hide"),y<e.analysis.body.borsaIt_support.value&&n.classList.remove("hide"),y>=e.analysis.body.teleb_tbResistance.value&&l.classList.remove("hide"),y<e.analysis.body.teleb_tbSupport.value&&i.classList.remove("hide"),u.classList.add("show"))}(e),u.querySelector("i.icon-close").addEventListener("click",(()=>{u.classList.remove("show")}))}},p=d,b={init:async()=>{const e=await y();await p.init(e)}}}}]);