"use strict";(self.webpackChunktradingradar_net=self.webpackChunktradingradar_net||[]).push([[96],{399:(e,a,s)=>{s.d(a,{Z:()=>r});const r=async function(e="",a={},s="GET",r={}){const t={},o={method:s,mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",...r},redirect:"follow",referrerPolicy:"no-referrer"};return["post","put","patch","delete"].includes(s.toLowerCase())&&(o.body=JSON.stringify(a)),await fetch(e,o).then((e=>(t.status=e.status,e.json()))).then((e=>{t.body=e})).catch((e=>{console.error(e)})),t}},96:(e,a,s)=>{s.r(a),s.d(a,{analisi:()=>b});var r=s(399);const t={info:{status:"idle",body:void 0},analysis:{status:"idle",body:void 0},news:{status:"idle",body:void 0}},o=["idle","loading","success","error"];let n,l;async function i(e){t[e].status="loading",d(e);try{const a=await(0,r.Z)(`/api/${e}/${l}`);t[e].body=a.body,t[e].status="success"}catch(a){t[e].status="error",console.error(a)}d(e)}function d(e){const a=n.getElementsByClassName(e)[0];a.classList.remove(...o),a.classList.add(t[e].status)}const c=async()=>{if(l=new URLSearchParams(window.location.search).get("isin")||window.location.pathname.replace("/stock/",""),n=document.getElementById("stock_info"),l&&(await i("info"),"success"===t.info.status&&(function(){n.querySelector(".last-price span").innerText=t.info.body.lastPrice.value||"nd";const e=n.querySelector(".profile div");e.prepend(t.info.body.profile?.value),e.querySelector("a").href=t.info.body.profile?.source;const a=n.querySelector(".comment div");a.prepend(t.info.body.comment?.value),a.querySelector("a").href=t.info.body.comment?.source;const s=n.querySelector(".dividends");s.querySelector(".divYield span").prepend(t.info.body.divYield?.value),s.querySelector(".divValue span").prepend(t.info.body.lastDiv?.value),s.querySelector(".lastDiv span").prepend(t.info.body.lastDivDate?.value),s.querySelector("a").href=t.info.body.lastDivDate?.source;const r=n.querySelector(".average");r.querySelector(".mm20 span").prepend(t.info.body.mm20days?.value),r.querySelector(".mm40 span").prepend(t.info.body.mm40days?.value),r.querySelector(".mm100 span").prepend(t.info.body.mm100days?.value),r.querySelector("a").href=t.info.body.mm20days?.source;const o=n.querySelector(".minmax");o.querySelector(".absMax span").prepend(t.info.body.absMax?.value),o.querySelector(".absMin span").prepend(t.info.body.absMin?.value),o.querySelector(".max span").prepend(t.info.body.currentYearMax?.value),o.querySelector(".min span").prepend(t.info.body.currentYearMin?.value),o.querySelector("a").href=t.info.body.absMax?.source;const l=n.querySelector(".performance");l.querySelector(".perf1M span").prepend(t.info.body.perf1M?.value),l.querySelector(".perf6M span").prepend(t.info.body.perf6M?.value),l.querySelector(".perf1Y span").prepend(t.info.body.perf1Y?.value),l.querySelector("a").href=t.info.body.perf1M?.source}(),function(){const e=t.info.body.lastPrice.value;if(!e)return;const a=n.querySelector(".average .alert");e>t.info.body.mm20days.value&&e>t.info.body.mm40days.value&&e>t.info.body.mm100days.value?(a.innerText=`Il prezzo attuale (€ ${e}) è superiore a tutte le medie prese in esame`,a.classList.add("em","green")):e<t.info.body.mm20days.value&&e<t.info.body.mm40days.value&&e<t.info.body.mm100days.value?(a.innerText=`Il prezzo attuale (€ ${e}) è inferiore a tutte le medie prese in esame`,a.classList.add("em","red")):(e<t.info.body.mm20days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è inferiore alla media a 20gg`,a.classList.remove("green"),a.classList.add("red")),e>t.info.body.mm20days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è superiore alla media a 20gg`,a.classList.remove("red"),a.classList.add("green")),e<t.info.body.mm40days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è inferiore alla media a 40gg`,a.classList.remove("green"),a.classList.add("red")),e>t.info.body.mm40days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è superiore alla media a 40gg`,a.classList.remove("red"),a.classList.add("green")),e<t.info.body.mm100days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è inferiore alla media a 100gg`,a.classList.remove("green"),a.classList.add("red")),e>t.info.body.mm100days.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è superiore alla media a 100gg`,a.classList.remove("red"),a.classList.add("green")))}()),await i("analysis"),"success"===t.analysis.status&&(function(){const e=n.querySelector(".analysis"),a=e.querySelector(".borsa-italiana");a.querySelector("a").href=t.analysis.body.borsaIt_resistance?.source,a.querySelector("p a").href=t.analysis.body.borsaIt_resistance?.source,a.querySelector(".resistance span").innerText=t.analysis.body.borsaIt_resistance?.value,a.querySelector(".support span").innerText=t.analysis.body.borsaIt_support?.value,a.querySelector(".rsi span").innerText=t.analysis.body.borsaIt_rsi?.value,a.querySelector(".evaluation span").innerText=t.analysis.body.borsaIt_evaluation?.value;const s=a.querySelector(".rating span");switch(s.innerText=t.analysis.body.borsaIt_rating?.value,t.analysis.body.borsaIt_rating?.value){case 0:s.classList.add("em","red");break;case 1:s.classList.add("red");break;case 3:s.classList.add("green");break;case 4:s.classList.add("em","green")}const r=e.querySelector(".il-sole-24-ore");r.querySelector("a").href=t.analysis.body.sol24_shortTendency?.source,r.querySelector("p a").href=t.analysis.body.sol24_shortTendency?.source;const o=r.querySelector(".short-tend span");o.innerText=t.analysis.body.sol24_shortTendency?.value,"Rialzo"===t.analysis.body.sol24_shortTendency?.value&&o.classList.add("green"),"Ribasso"===t.analysis.body.sol24_shortTendency?.value&&o.classList.add("red");const l=r.querySelector(".med-tend span");l.innerText=t.analysis.body.sol24_mediumTendency?.value,"Rialzo"===t.analysis.body.sol24_mediumTendency?.value&&l.classList.add("green"),"Ribasso"===t.analysis.body.sol24_mediumTendency?.value&&l.classList.add("red");const i=e.querySelector(".milano-finanza");i.querySelector("a").href=t.analysis.body.milFin_mfRanking?.source,i.querySelector("p a").href=t.analysis.body.milFin_mfRanking?.source;const d=i.querySelector(".rating span");switch(d.innerText=t.analysis.body.milFin_mfRanking?.value,t.analysis.body.milFin_mfRanking?.value[0]){case"A":d.classList.add("em","green");break;case"B":d.classList.add("green");break;case"D":d.classList.add("red");break;case"E":d.classList.add("em","red")}i.querySelector(".risk span").innerText=t.analysis.body.milFin_mfRisk?.value;const c=e.querySelector(".soldi-on-line");c.querySelector("a").href=t.analysis.body.sol_lastJudgment?.source,c.querySelector("p a").href=t.analysis.body.sol_lastJudgment?.source,c.querySelector(".date span").innerText=t.analysis.body.sol_lastJudgment?.value[0],c.querySelector(".bank span").innerText=t.analysis.body.sol_lastJudgment?.value[1],c.querySelector(".evaluation span").innerText=t.analysis.body.sol_lastJudgment?.value[2],c.querySelector(".evaluation span").classList.add(t.analysis.body.sol_lastJudgment?.value[2]?.replace("▲","").replace("▼","").trim().toLowerCase()),c.querySelector(".target span").innerText=t.analysis.body.sol_lastJudgment?.value[3];const u=t.info.body.lastPrice.value,y=Number(t.analysis.body.sol_lastJudgment?.value[3]?.replace("▲","").replace("▼","").trim());if(u&&y>0){const e=((y-u)/(u/100)).toFixed(0);e>0?(c.querySelector(".alert").innerText=`Il prezzo attuale (€ ${u}) è inferiore del ${e}% rispetto al prezzo target indicato`,c.querySelector(".alert").classList.add("green")):(c.querySelector(".alert").innerText=`Il prezzo attuale (€ ${u}) è superiore del ${e}% rispetto al prezzo target indicato`,c.querySelector(".alert").classList.add("red"))}const p=e.querySelector(".teleborsa");p.querySelector("a").href=t.analysis.body.teleb_tbResistance?.source,p.querySelector("p a").href=t.analysis.body.teleb_tbResistance?.source,p.querySelector(".resistance span").innerText=t.analysis.body.teleb_tbResistance?.value,p.querySelector(".support span").innerText=t.analysis.body.teleb_tbSupport?.value,p.querySelector(".trend span").innerText=t.analysis.body.teleb_trend?.value}(),function(){const e=t.info.body.lastPrice.value;if(!e)return;const a=n.querySelector(".borsa-italiana .alert"),s=n.querySelector(".teleborsa .alert");e>t.analysis.body.borsaIt_resistance.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è superiore alla Resistenza indicata da Borsa Italiana`,a.classList.add("em","green")),e<t.analysis.body.borsaIt_support.value&&(a.innerText=`Il prezzo attuale (€ ${e}) è inferiore al Supporto indicato da Borsa Italiana`,a.classList.add("em","red")),e>t.analysis.body.teleb_tbResistance.value&&(s.innerText=`Il prezzo attuale (€ ${e}) è superiore alla Resistenza indicata da Teleborsa`,s.classList.add("em","green")),e<t.analysis.body.teleb_tbSupport.value&&(s.innerText=`Il prezzo attuale (€ ${e}) è inferiore al Supporto indicato da Teleborsa`,s.classList.add("em","red"))}()),await i("news"),"success"===t.news.status&&function(){const e=n.querySelector(".news").getElementsByTagName("ul")[0];for(const a of t.news.body){const s=document.createElement("li"),r=document.createElement("a");r.innerText=a.title,r.title=a.title,r.href=a.url,r.target="_blank",r.rel="noopener noreferrer",s.appendChild(r),e.appendChild(s)}}(),"success"===t.info.status&&"success"===t.analysis.status))return t};let u;const y={init:async e=>{u=document.getElementById("stock_alerts"),function(e){const a=u.querySelector("#a1"),s=u.querySelector("#a2"),r=u.querySelector("#a3"),t=u.querySelector("#a4"),o=u.querySelector("#a5"),n=u.querySelector("#a6"),l=u.querySelector("#a7"),i=u.querySelector("#a8"),d=u.querySelector("#last-price"),c=e.info.body.lastPrice.value;c&&(d.innerText=c,c>=e.info.body.mm20days.value?a.classList.remove("hide"):s.classList.remove("hide"),c>=e.info.body.mm40days.value?r.classList.remove("hide"):t.classList.remove("hide"),c>=e.analysis.body.borsaIt_resistance.value&&o.classList.remove("hide"),c<e.analysis.body.borsaIt_support.value&&n.classList.remove("hide"),c>=e.analysis.body.teleb_tbResistance.value&&l.classList.remove("hide"),c<e.analysis.body.teleb_tbSupport.value&&i.classList.remove("hide"),u.classList.add("show"))}(e),u.querySelector("i.icon-close").addEventListener("click",(()=>{u.classList.remove("show")}))}},p=y,b={init:async()=>{const e=await c();await p.init(e)}}}}]);